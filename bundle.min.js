function Menubar(){$(".notebook").append('<div class="menubar"></div>');var e=$('<div class="editor"></div>');$(".notebook").append(e);var t=$('<textarea spellcheck="false" auto-size="none" wrap="off" style="overflow-x: scroll; font-family: Arial; font-size: 16pt;"></textarea>');e.append(t);var c=[],a=-1;this.show=function(){var e=$(".menubar");e.append('<ul class="menu-title"></ul>');for(var t=0;t<menuData.length;t++){var l=$(".menu-title"),n=$(' <li class="title" data-tag='+t+">"+menuData[t].title+"</li>");l.append(n),n.click(function(){var e=this.dataset.tag;a=-1==a?(c[e].css({display:"block"}),e):a!==e?(c[a].css({display:"none"}),c[e].css({display:"block"}),e):(c[a].css({display:"none"}),-1)}),n.hover(function(){if(-1!==a){var e=this.dataset.tag;c[a].css({display:"none"}),c[e].css({display:"block"}),a=e}})}for(t=0;t<menuData.length;t++){for(var i=$('<ul class="menus"></ul>'),s=0;s<menuData[t].menuItems.length;s++){if("hr"==menuData[t].menuItems[s].title)var o=$('<li class="menu-hr"></li>');else(o=$('<li class="menu-item">'+menuData[t].menuItems[s].title+'<span class="shortcut">'+menuData[t].menuItems[s].shortcut+"</span></li>")).click(menuData[t].menuItems[s].handler),a=-1;i.append(o)}i.css({width:menuData[t].width,left:menuData[t].left,display:"none"}),e.append(i),c.push(i)}}()}var menuData=[{title:"文件(F)",menuItems:[{title:"新建(N)",shortcut:"Ctrl+N",enabled:!0,handler:function(){console.log("新建(N) menu clicked!")}},{title:"打开(O)...",shortcut:"Ctrl+O",enabled:!0,handler:function(){console.log("打开(O) menu clicked!")}},{title:"保存(S)",shortcut:"Ctrl+S",enabled:!0,handler:function(){console.log("保存(S) menu clicked!")}},{title:"另存为(A)...",shortcut:"",enabled:!0,handler:function(){console.log("另存为(A) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"页面设置(U)...",shortcut:"",enabled:!0,handler:function(){console.log("页面设置(U) menu clicked!")}},{title:"打印(P)...",shortcut:"Ctrl+P",enabled:!0,handler:function(){console.log("打印(P) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"退出(X)",shortcut:"",enabled:!0,handler:function(){console.log("退出(X) menu clicked!")}}],width:"202px",left:"0px"},{title:"编辑(E)",menuItems:[{title:"撤销(U)",shortcut:"Ctrl+Z",enabled:!1,handler:function(){console.log("撤销(U) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"剪切(T)",shortcut:"Ctrl+X",enabled:!0,handler:function(){console.log("剪切(X) menu clicked!")}},{title:"复制(C)",shortcut:"Ctrl+C",enabled:!1,handler:function(){console.log("复制(C) menu clicked!")}},{title:"粘贴(P)",shortcut:"Ctrl+V",enabled:!1,handler:function(){console.log("粘贴(P) menu clicked!")}},{title:"删除(L)",shortcut:"Del",enabled:!1,handler:function(){console.log("删除(L) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"使用 Bing 搜索...",shortcut:"Ctrl+E",enabled:!0,handler:function(){console.log("使用 Bing 搜索 menu clicked!")}},{title:"查找(F)...",shortcut:"Ctrl+F",enabled:!1,handler:function(){console.log("查找(F) menu clicked!")}},{title:"查找下一个(N)",shortcut:"F3",enabled:!1,handler:function(){console.log("查找下一个(N) menu clicked!")}},{title:"替换(R)...",shortcut:"Ctrl+H",enabled:!0,handler:function(){console.log("替换(R) menu clicked!")}},{title:"转到(G)...",shortcut:"Ctrl+G",enabled:!0,handler:function(){console.log("转到(G) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"全选(A)",shortcut:"Ctrl+A",enabled:!0,handler:function(){console.log("全选(A) menu clicked!")}},{title:"时间/日期(D)",shortcut:"F5",enabled:!0,handler:function(){console.log("时间/日期(D) menu clicked!")}}],width:"218px",left:"52px"},{title:"格式(O)",menuItems:[{title:"自动换行(W)",shortcut:"",enabled:!0,handler:function(){console.log("自动换行(W) menu clicked!")}},{title:"字体(F)...",shortcut:"",enabled:!0,handler:function(){(new Font).show()}}],width:"156px",left:"106px"},{title:"查看(V)",menuItems:[{title:"状态栏(S)",shortcut:"",enabled:!0,handler:function(){console.log("状态栏(S) menu clicked!")}}],width:"138px",left:"162px"},{title:"帮助(H)",menuItems:[{title:"查看帮助(H)",shortcut:"",enabled:!0,handler:function(){console.log("查看帮助(H) menu clicked!")}},{title:"关于记事本(A)",shortcut:"",enabled:!0,handler:function(){console.log("关于记事本(A) menu clicked!")}}],width:"166px",left:"216px"}];function Font(){var e=$('<div class="notepad-dlg-mask notepad-dlg-font"><div class="dialogbox notepad-dlgbox"><div class="notepad-dlg-titlebar"><p class="title">字体</p><span class="close-btn">✖</span></div><div class="main notepad-dlg-main"><div class="font-family"><p>字体(F):</p></div><div class="font-style"><p>字形(Y):</p></div><div class="font-size"><p>大小(S):</p></div><fieldset class="sample"><legend>示例</legend><p>AaBbYyZz</p></fieldset><div class="script"><label>脚本(R):<br><select><option value="西欧语言">西欧语言</option><option value="中文 GB2312">中文 GB2312</option></select></label></div><input class="btn-ok btn" type="button" value="确定"><input class="btn-cancel btn" type="button" value="取消"></div></div></div>');$(".notebook").append(e);var t=new List,l=new List,n=new List;t.show({contaniner:".font-family",list:["Agency FB","Algerian","Arial","Arial Rounded MT","Axure Handwriting","Bahnschrift","Baskerville Old Face","Bauhaus 93","Bell MT","Berlin Sans FB","Bernard MT","BlackAdder ITC"],select:0,width:"176px",isFont:!0,isFontStyle:!1,selectHandler:function(e){$(".sample").find("p").css({"font-family":e})}}),l.show({contaniner:".font-style",list:["常规","斜体","粗体","粗偏斜体"],select:0,width:"132px",isFont:!1,isFontStyle:!0,selectHandler:function(e){l.setStyle($(".sample").find("p"),e)}}),n.show({contaniner:".font-size",list:["8","9","10","11","12","14","16","18","20","22","24","26","28","36","48","72"],select:0,width:"64px",isFont:!1,isFontStyle:!1,selectHandler:function(e){$(".sample").find("p").css({"font-size":e+"px"})}});var i=$(".close-btn"),s=$(".btn-ok"),o=$(".btn-cancel");return{show:function(){$(".menus").css({display:"none"}),i.click(function(){e.remove()}),s.click(function(){e.remove()}),o.click(function(){e.remove()})}}}function List(){var l,n=$('<div class="list-main"><input class="list-editor" type="text"><br><ul class="list"></ul></div>'),i=n.find(".list-editor"),s=n.find(".list"),o={contaniner:"body",list:[],select:0,width:"200px",isFont:!1,isFontStyle:!0,selectHandler:function(e){console.log(e)}};function c(e,t){"常规"!==t?"斜体"!==t?"粗体"!==t?"粗偏斜体"!==t||e.css({"font-weight":"bold","font-style":"italic"}):e.css({"font-style":"","font-weight":"bold"}):e.css({"font-style":"italic","font-weight":""}):e.css({"font-style":"","font-weight":""})}return{show:function(e){$.extend(o,e);var t=$(o.container).find(".list-main");0!==t.length&&t.remove(),s.css({width:o.width}),i.css({width:o.width}),function(){if(o.isFont)for(var e=0;e<o.list.length;e++)(l=$('<li class="item">'+o.list[e]+"</li>")).css({"font-family":o.list[e]}),s.append(l);else if(o.isFontStyle)for(e=0;e<o.list.length;e++)c(l=$('<li class="item">'+o.list[e]+"</li>"),o.list[e]),s.append(l);else for(e=0;e<o.list.length;e++)l=$('<li class="item">'+o.list[e]+"</li>"),s.append(l)}(),$(s.find(".item")[o.select]).addClass("selected"),i.val(o.list[o.select]),s.click(function(e){$(s.find(".item")[o.select]).removeClass("selected"),o.select=o.list.indexOf($(e.target).html()),$(s.find(".item")[o.select]).addClass("selected"),i.val(o.list[o.select]),i.select(),o.selectHandler(o.list[o.select])}),$(o.contaniner).append(n)},setStyle:c}}